## Решение для p06/02

Задание:
__Сформулируйте проблемы неоптимальности идиомы Pimpl и способы их решения через идиому Fast Pimpl.__

Идиома Pimpl (pointer to implementation) позволяет скрыть детали реализации путем хранения указателя на класс с реализацией (который определяется в cpp файлах).

Минусы данного подхода:

1) Добавлется дополнительный уровень косвенности: в имплементации приходится разименовывать Pimpl указатель, что снижает производительность.

2) При выносе кода в cpp файлы могут плохо отработать компиляторные оптимизации: будет меньше возможностей для инлайнинга (а это вдобавок может снизить эффективность других пассов компилятора).

Fast Pimpl предлагает разместить буффер под класс с реализацией прямо в классе с публичным API. Это позволяет (не без грязных кастов в реализации) убрать лишний уровень косвенности и починить пункт #1. Пункт #2 все еще актуален, но в редких случаях (post-link оптимизации отлично работают) и для кода, время выполнения которого критично.
